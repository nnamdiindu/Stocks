<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StocksCo - {% block title %}{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../static/css/auth-base.css">
    <link rel="shortcut icon" href="../../../static/images/favicon.png" type="image/x-icon">
    <!-- Google Font -->
    <link href="fonts.googleapis.com" rel="stylesheet">

</head>

<body>
    <div class="container-fluid">
        <div class="row min-vh-100">
            <!-- Left Side - Form -->
            <div class="col-lg-5 col-md-6 d-flex align-items-center justify-content-center bg-white">
                <div class="w-100 px-4 px-md-5" style="max-width: 400px;">
                    <!-- Logo -->
                    <div class="mb-3 text-center">
                        <a href="{{ url_for('index') }}"><img src="../../../static/images/StocksCo-logo.png" alt="StocksCo"
                                style="max-width: 150px; height: auto;"></a>
                    </div>

                    <div style="padding-top: 10px;">
                        {% block content %}{% endblock %}
                    </div>

                    <!-- Right Side - Background -->
                    <div class="col-lg-7 col-md-6 d-none d-md-block p-5">
                        <div
                            class="background-section d-flex align-items-center justify-content-center position-relative rounded-4">
                            <img src="../../../static/images/sign-up.jpg" alt=""
                                class="background-pattern position-absolute rounded-4">
                        </div>
                    </div>
                </div>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
            <script>
                function togglePassword() {
                    const passwordInput = document.getElementById('password');
                    passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
                }

                // OTP Input Auto-focus
                document.addEventListener('DOMContentLoaded', function () {
                    const otpInputs = document.querySelectorAll('.otp-input');

                    otpInputs.forEach((input, index) => {
                        input.addEventListener('input', function (e) {
                            // Only allow numbers
                            this.value = this.value.replace(/[^0-9]/g, '');

                            // Auto-focus next input
                            if (this.value.length === 1 && index < otpInputs.length - 1) {
                                otpInputs[index + 1].focus();
                            }
                        });

                        // Handle backspace
                        input.addEventListener('keydown', function (e) {
                            if (e.key === 'Backspace' && !this.value && index > 0) {
                                otpInputs[index - 1].focus();
                            }
                        });
                    });

                    // Countdown Timer
                    let timeLeft = 45;
                    const timerElement = document.getElementById('timer');

                    if (timerElement) {
                        const countdown = setInterval(() => {
                            timeLeft--;
                            const minutes = Math.floor(timeLeft / 60);
                            const seconds = timeLeft % 60;
                            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                            if (timeLeft <= 0) {
                                clearInterval(countdown);
                                timerElement.innerHTML = '<a href="#" class="link-primary">Resend OTP</a>';
                            }
                        }, 1000);
                    }
                });
            </script>
</body>

</html>